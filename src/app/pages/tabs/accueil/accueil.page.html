<ion-content>
    <ion-row>
        <ion-col>
            <ion-item lines="full">
                <ion-label class="text-form">
                    Bienvenue {{ userData.firstname + ' ' + userData.lastname }} sur RunningQuest !
                </ion-label>
            </ion-item>
        </ion-col>
    </ion-row>

    <ion-row>
        <ion-col>
            <ion-button id="map-button" expand="block" type="submit" (click)="displayMap()">
                Voir ma position
            </ion-button>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-col>
            <ion-button id="trajet-button" expand="block" type="submit" (click)="displayMapWithDirection()">
                Choisir une destination
            </ion-button>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-col>
            <ion-button id="course-button" color="success" expand="block" type="submit" (click)="displayCourseMode()">
                Lancer la course
            </ion-button>
        </ion-col>
    </ion-row>
    <ion-card color="success" *ngFor="let quest of selectedDailyQuest" (click)="goToQuestEnCours()">
        <ion-card-header>
            <ion-item color="success">
                <ng-template [ngIf]="quest.selection.expired == true">
                    <ion-icon style="color:green; float: right;" name="checkmark-circle-outline"></ion-icon>
                </ng-template>
                <ng-template [ngIf]="quest.type == 1">
                    <ion-icon color="dark" name="time-outline" slot="start"></ion-icon>
                </ng-template>
                <ng-template [ngIf]="quest.type == 2">
                    <ion-icon color="dark" name="flag" slot="start"></ion-icon>
                </ng-template>
                <ng-template [ngIf]="quest.type == 3">
                    <ion-icon color="dark" name="infinite" slot="start"></ion-icon>
                </ng-template>
                <ion-card-title>{{ quest.name }}</ion-card-title>
            </ion-item>
        </ion-card-header>
        <ion-card-content>
            <div style="text-align: center;">
                <span><strong>Début: {{quest.given_date | date : "dd/MM/y" }} ➔ </strong></span>
                <span><strong>Fin: {{quest.expiration_date | date : "dd/MM/y"}}</strong></span>
                <br/><br/>
                <p><em>{{quest.description}}</em></p>
                <br/>
                <ng-template [ngIf]="quest.type == 1 || quest.type == 3 ">
                    <span>Time = {{quest.time}} min</span>
                </ng-template>
                <ng-template [ngIf]="quest.type == 3 "><span> /---\ </span></ng-template>
                <ng-template [ngIf]="quest.type == 2 || quest.type == 3 ">
                    <span>Distance = {{quest.distance}} km</span>
                </ng-template>
            </div>
            <br/>
                <p style="float: right;">Runner Point:{{quest.nbRp}}</p>
        </ion-card-content>
    </ion-card>
    <ion-card color="secondary" *ngFor="let quest of selectedWeeklyQuest" (click)="goToQuestEnCours()">
        <ion-card-header>
            <ion-item color="secondary">
                <ng-template [ngIf]="quest.selection.expired == true">
                    <ion-icon style="color:green; float: right;" name="checkmark-circle-outline"></ion-icon>
                </ng-template>
                <ng-template [ngIf]="quest.type == 1">
                    <ion-icon color="dark" name="time-outline" slot="start"></ion-icon>
                </ng-template>
                <ng-template [ngIf]="quest.type == 2">
                    <ion-icon color="dark" name="flag" slot="start"></ion-icon>
                </ng-template>
                <ng-template [ngIf]="quest.type == 3">
                    <ion-icon color="dark" name="infinite" slot="start"></ion-icon>
                </ng-template>
                <ion-card-title>{{ quest.name }}</ion-card-title>
            </ion-item>
        </ion-card-header>
        <ion-card-content>
            <div style="text-align: center;">
                <span><strong>Début: {{quest.given_date | date : "dd/MM/y" }} ➔ </strong></span>
                <span><strong>Fin: {{quest.expiration_date | date : "dd/MM/y"}}</strong></span>
                <br/><br/>
                <p><em>{{quest.description}}</em></p>
                <br/>
                <ng-template [ngIf]="quest.type == 1 || quest.type == 3 ">
                    <span>Time = {{quest.time}} min</span>
                </ng-template>
                <ng-template [ngIf]="quest.type == 3 "><span> /---\ </span></ng-template>
                <ng-template [ngIf]="quest.type == 2 || quest.type == 3 ">
                    <span>Distance = {{quest.distance}} km</span>
                </ng-template>
            </div>
            <br/>
                <p style="float: right;">Runner Point:{{quest.nbRp}}</p>
        </ion-card-content>
    </ion-card>
    <ion-card color="danger" *ngFor="let quest of selectedMonthlyQuest" (click)="goToQuestEnCours()">
        <ion-card-header>
            <ion-item color="danger">
                <ng-template [ngIf]="quest.selection.expired == true">
                    <ion-icon style="color:green; float: right;" name="checkmark-circle-outline"></ion-icon>
                </ng-template>
                <ng-template [ngIf]="quest.type == 1">
                    <ion-icon color="dark" name="time-outline" slot="start"></ion-icon>
                </ng-template>
                <ng-template [ngIf]="quest.type == 2">
                    <ion-icon color="dark" name="flag" slot="start"></ion-icon>
                </ng-template>
                <ng-template [ngIf]="quest.type == 3">
                    <ion-icon color="dark" name="infinite" slot="start"></ion-icon>
                </ng-template>
                <ion-card-title>{{ quest.name }}</ion-card-title>
            </ion-item>
        </ion-card-header>
        <ion-card-content>
            <div style="text-align: center;">
                <span><strong>Début: {{quest.given_date | date : "dd/MM/y" }} ➔ </strong></span>
                <span><strong>Fin: {{quest.expiration_date | date : "dd/MM/y"}}</strong></span>
                <br/><br/>
                <p><em>{{quest.description}}</em></p>
                <br/>
                <ng-template [ngIf]="quest.type == 1 || quest.type == 3 ">
                    <span>Time = {{quest.time}} min</span>
                </ng-template>
                <ng-template [ngIf]="quest.type == 3 "><span> /---\ </span></ng-template>
                <ng-template [ngIf]="quest.type == 2 || quest.type == 3 ">
                    <span>Distance = {{quest.distance}} km</span>
                </ng-template>
            </div>
            <br/>
                <p style="float: right;">Runner Point:{{quest.nbRp}}</p>
        </ion-card-content>
    </ion-card>
</ion-content>
